{"ast":null,"code":"var _jsxFileName = \"E:\\\\Intern Cars24\\\\Roadtrip-planner\\\\Roadtrip-planner\\\\frontend\\\\src\\\\pages\\\\TripDetailPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext, useCallback } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport WeatherWidget from \"../components/WeatherWidget\";\nimport MapComponent from \"../components/MapComponent\";\nimport SimpleImageViewer from \"react-simple-image-viewer\";\nimport { BASE_URL } from \"../api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TripDetailPage = () => {\n  _s();\n  var _trip$route$, _trip$route$2;\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    auth\n  } = useContext(AuthContext);\n  const [trip, setTrip] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [routeData, setRouteData] = useState(null);\n  const [places, setPlaces] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [currentImage, setCurrentImage] = useState(0);\n  const [isViewerOpen, setIsViewerOpen] = useState(false);\n  useEffect(() => {\n    const fetchDetails = async () => {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const token = localStorage.getItem(\"token\");\n        const config = token ? {\n          headers: {\n            \"x-auth-token\": token\n          }\n        } : undefined;\n\n        // Fetch trip and comments concurrently\n        const [tripRes, commentsRes] = await Promise.all([axios.get(`${BASE_URL}/api/roadtrips/${id}`, config), axios.get(`${BASE_URL}/api/comments/${id}`, config)]);\n        const tripData = tripRes.data;\n        setTrip(tripData);\n        setComments(commentsRes.data.comments || commentsRes.data);\n\n        // Fetch route information if user logged in and route present\n        if (token && tripData.route && tripData.route.length >= 2) {\n          const startDest = tripData.route[0].locationName;\n          const finalDest = tripData.route[1].locationName;\n          axios.post(`${BASE_URL}/api/route`, {\n            startLocationName: startDest,\n            endLocationName: finalDest\n          }, config).then(res => setRouteData(res.data)).catch(() => setError(\"Failed to load route data\"));\n          axios.get(`${BASE_URL}/api/places?location=${encodeURIComponent(finalDest)}`, config).then(res => setPlaces(res.data.places || [])).catch(() => setError(\"Failed to load nearby places\"));\n        }\n      } catch (err) {\n        setError(\"Failed to load trip details. Please try again.\");\n        console.error(\"Error fetching trip details:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDetails();\n  }, [id]);\n  const handleCommentSubmit = async e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n    if (!auth.isAuthenticated) {\n      alert(\"Please login to comment.\");\n      return navigate(\"/login\");\n    }\n    try {\n      var _auth$user;\n      const token = localStorage.getItem(\"token\");\n      const config = {\n        headers: {\n          \"x-auth-token\": token\n        }\n      };\n      const res = await axios.post(`${BASE_URL}/api/comments/${id}`, {\n        text: newComment.trim()\n      }, config);\n      const populatedComment = {\n        ...res.data,\n        user: {\n          username: ((_auth$user = auth.user) === null || _auth$user === void 0 ? void 0 : _auth$user.username) || \"User\"\n        }\n      };\n      setComments([populatedComment, ...comments]);\n      setNewComment(\"\");\n    } catch (err) {\n      console.error(\"Error posting comment:\", err);\n      alert(\"Failed to post comment.\");\n    }\n  };\n  const openImageViewer = useCallback(index => {\n    setCurrentImage(index);\n    setIsViewerOpen(true);\n  }, []);\n  const closeImageViewer = () => {\n    setCurrentImage(0);\n    setIsViewerOpen(false);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center text-gray-700 font-bold\",\n      children: \"Loading trip details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 7\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-600 font-semibold\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 7\n  }, this);\n  if (!trip) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-700 font-semibold\",\n      children: \"Trip not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 7\n  }, this);\n  const startDest = (_trip$route$ = trip.route[0]) === null || _trip$route$ === void 0 ? void 0 : _trip$route$.locationName;\n  const finalDest = (_trip$route$2 = trip.route[1]) === null || _trip$route$2 === void 0 ? void 0 : _trip$route$2.locationName;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8 px-4 max-w-7xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate(-1),\n      className: \"mb-6 flex items-center text-gray-600 hover:text-blue-600 transition-colors duration-200\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-5 h-5 mr-2\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M15 19l-7-7 7-7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), \"Back\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-3 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:col-span-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl font-bold text-blue-700 mb-4\",\n            children: trip.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 mb-8 whitespace-pre-line\",\n            children: trip.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-900 mb-4\",\n            children: \"Route Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), routeData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 p-4 rounded-lg mb-6 grid grid-cols-2 text-center gap-4 text-gray-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold text-blue-600\",\n                  children: \"Distance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [routeData.distance, \" km\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold text-purple-600\",\n                  children: \"Duration\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [routeData.duration, \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MapComponent, {\n              routeData: routeData,\n              className: \"mb-8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"Login to view the route map.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [trip.coverImage && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: trip.coverImage,\n            alt: trip.title,\n            className: \"w-full h-48 object-cover rounded-lg shadow-md mb-6\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-gray-900 mb-4\",\n            children: \"Weather Forecast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-6\",\n            children: [startDest && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-700 mb-2\",\n                children: [\"Start: \", startDest]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(WeatherWidget, {\n                location: startDest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), finalDest && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-700 mb-2\",\n                children: [\"Destination: \", finalDest]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(WeatherWidget, {\n                location: finalDest\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), trip.images && trip.images.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-900 mb-4\",\n          children: \"Gallery\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 md:grid-cols-3 gap-4\",\n          children: trip.images.map((img, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: img,\n            alt: `Trip image ${index + 1}`,\n            className: \"w-full h-40 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity\",\n            loading: \"lazy\",\n            onClick: () => openImageViewer(index)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), places.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"my-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-900 mb-4\",\n          children: [\"Nearby Attractions in \", finalDest]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n          children: places.map(place => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 rounded-xl p-4 border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-bold text-blue-700\",\n              children: place.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: place.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs mt-1 text-gray-400\",\n              children: place.address\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this)]\n          }, place.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-900 mb-4\",\n        children: [\"Comments (\", comments.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), auth.isAuthenticated && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCommentSubmit,\n        className: \"mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 3,\n          placeholder: \"Add a public comment...\",\n          value: newComment,\n          onChange: e => setNewComment(e.target.value),\n          className: \"w-full p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !newComment.trim(),\n          className: \"mt-3 bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-200\",\n          children: \"Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6 max-h-96 overflow-y-auto scrollbar-thin scrollbar-webkit pr-2\",\n        children: comments.map(comment => {\n          var _comment$user;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-100 rounded-lg p-4 border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-semibold text-gray-700\",\n              children: ((_comment$user = comment.user) === null || _comment$user === void 0 ? void 0 : _comment$user.username) || \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-gray-800 whitespace-pre-line\",\n              children: comment.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, comment._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), isViewerOpen && trip.images && /*#__PURE__*/_jsxDEV(SimpleImageViewer, {\n      src: trip.images,\n      currentIndex: currentImage,\n      onClose: closeImageViewer,\n      backgroundStyle: {\n        backgroundColor: \"rgba(0,0,0,0.9)\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(TripDetailPage, \"3/2yhupH16UydqC47mautQXb2Ck=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TripDetailPage;\nexport default TripDetailPage;\nvar _c;\n$RefreshReg$(_c, \"TripDetailPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","useParams","useNavigate","axios","AuthContext","WeatherWidget","MapComponent","SimpleImageViewer","BASE_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","TripDetailPage","_s","_trip$route$","_trip$route$2","id","navigate","auth","trip","setTrip","comments","setComments","newComment","setNewComment","loading","setLoading","routeData","setRouteData","places","setPlaces","error","setError","currentImage","setCurrentImage","isViewerOpen","setIsViewerOpen","fetchDetails","token","localStorage","getItem","config","headers","undefined","tripRes","commentsRes","Promise","all","get","tripData","data","route","length","startDest","locationName","finalDest","post","startLocationName","endLocationName","then","res","catch","encodeURIComponent","err","console","handleCommentSubmit","e","preventDefault","trim","isAuthenticated","alert","_auth$user","text","populatedComment","user","username","openImageViewer","index","closeImageViewer","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","title","description","distance","duration","coverImage","src","alt","location","images","map","img","place","name","category","address","onSubmit","rows","placeholder","value","onChange","target","type","disabled","comment","_comment$user","_id","currentIndex","onClose","backgroundStyle","backgroundColor","_c","$RefreshReg$"],"sources":["E:/Intern Cars24/Roadtrip-planner/Roadtrip-planner/frontend/src/pages/TripDetailPage.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport WeatherWidget from \"../components/WeatherWidget\";\nimport MapComponent from \"../components/MapComponent\";\nimport SimpleImageViewer from \"react-simple-image-viewer\";\nimport { BASE_URL } from \"../api\";\n\nconst TripDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { auth } = useContext(AuthContext);\n\n  const [trip, setTrip] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [newComment, setNewComment] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [routeData, setRouteData] = useState(null);\n  const [places, setPlaces] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  const [currentImage, setCurrentImage] = useState(0);\n  const [isViewerOpen, setIsViewerOpen] = useState(false);\n\n  useEffect(() => {\n    const fetchDetails = async () => {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const token = localStorage.getItem(\"token\");\n        const config = token\n          ? { headers: { \"x-auth-token\": token } }\n          : undefined;\n\n        // Fetch trip and comments concurrently\n        const [tripRes, commentsRes] = await Promise.all([\n          axios.get(`${BASE_URL}/api/roadtrips/${id}`, config),\n          axios.get(`${BASE_URL}/api/comments/${id}`, config),\n        ]);\n\n        const tripData = tripRes.data;\n        setTrip(tripData);\n        setComments(commentsRes.data.comments || commentsRes.data);\n\n        // Fetch route information if user logged in and route present\n        if (token && tripData.route && tripData.route.length >= 2) {\n          const startDest = tripData.route[0].locationName;\n          const finalDest = tripData.route[1].locationName;\n\n          axios\n            .post(\n              `${BASE_URL}/api/route`,\n              { startLocationName: startDest, endLocationName: finalDest },\n              config\n            )\n            .then((res) => setRouteData(res.data))\n            .catch(() => setError(\"Failed to load route data\"));\n\n          axios\n            .get(\n              `${BASE_URL}/api/places?location=${encodeURIComponent(finalDest)}`,\n              config\n            )\n            .then((res) => setPlaces(res.data.places || []))\n            .catch(() => setError(\"Failed to load nearby places\"));\n        }\n      } catch (err) {\n        setError(\"Failed to load trip details. Please try again.\");\n        console.error(\"Error fetching trip details:\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDetails();\n  }, [id]);\n\n  const handleCommentSubmit = async (e) => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    if (!auth.isAuthenticated) {\n      alert(\"Please login to comment.\");\n      return navigate(\"/login\");\n    }\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      const config = { headers: { \"x-auth-token\": token } };\n      const res = await axios.post(\n        `${BASE_URL}/api/comments/${id}`,\n        { text: newComment.trim() },\n        config\n      );\n      const populatedComment = {\n        ...res.data,\n        user: { username: auth.user?.username || \"User\" },\n      };\n      setComments([populatedComment, ...comments]);\n      setNewComment(\"\");\n    } catch (err) {\n      console.error(\"Error posting comment:\", err);\n      alert(\"Failed to post comment.\");\n    }\n  };\n\n  const openImageViewer = useCallback((index) => {\n    setCurrentImage(index);\n    setIsViewerOpen(true);\n  }, []);\n\n  const closeImageViewer = () => {\n    setCurrentImage(0);\n    setIsViewerOpen(false);\n  };\n\n  if (loading)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\">\n        <div className=\"text-center text-gray-700 font-bold\">\n          Loading trip details...\n        </div>\n      </div>\n    );\n\n  if (error)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\">\n        <div className=\"text-red-600 font-semibold\">{error}</div>\n      </div>\n    );\n\n  if (!trip)\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\">\n        <div className=\"text-gray-700 font-semibold\">Trip not found.</div>\n      </div>\n    );\n\n  const startDest = trip.route[0]?.locationName;\n  const finalDest = trip.route[1]?.locationName;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8 px-4 max-w-7xl mx-auto\">\n      <button\n        onClick={() => navigate(-1)}\n        className=\"mb-6 flex items-center text-gray-600 hover:text-blue-600 transition-colors duration-200\"\n      >\n        <svg\n          className=\"w-5 h-5 mr-2\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n        Back\n      </button>\n\n      <div className=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-100\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div className=\"md:col-span-2\">\n            <h1 className=\"text-4xl font-bold text-blue-700 mb-4\">\n              {trip.title}\n            </h1>\n            <p className=\"text-gray-700 mb-8 whitespace-pre-line\">\n              {trip.description}\n            </p>\n\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n              Route Details\n            </h2>\n            {routeData ? (\n              <>\n                <div className=\"bg-gray-100 p-4 rounded-lg mb-6 grid grid-cols-2 text-center gap-4 text-gray-800\">\n                  <div>\n                    <p className=\"font-bold text-blue-600\">Distance</p>\n                    <p>{routeData.distance} km</p>\n                  </div>\n                  <div>\n                    <p className=\"font-bold text-purple-600\">Duration</p>\n                    <p>{routeData.duration} hours</p>\n                  </div>\n                </div>\n                <MapComponent routeData={routeData} className=\"mb-8\" />\n              </>\n            ) : (\n              <p className=\"text-gray-500\">Login to view the route map.</p>\n            )}\n          </div>\n\n          <div>\n            {trip.coverImage && (\n              <img\n                src={trip.coverImage}\n                alt={trip.title}\n                className=\"w-full h-48 object-cover rounded-lg shadow-md mb-6\"\n                loading=\"lazy\"\n              />\n            )}\n\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n              Weather Forecast\n            </h2>\n            <div className=\"space-y-6\">\n              {startDest && (\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\n                    Start: {startDest}\n                  </h3>\n                  <WeatherWidget location={startDest} />\n                </div>\n              )}\n              {finalDest && (\n                <div>\n                  <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\n                    Destination: {finalDest}\n                  </h3>\n                  <WeatherWidget location={finalDest} />\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {trip.images && trip.images.length > 0 && (\n          <>\n            <hr className=\"my-10\" />\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n              Gallery\n            </h2>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n              {trip.images.map((img, index) => (\n                <img\n                  key={index}\n                  src={img}\n                  alt={`Trip image ${index + 1}`}\n                  className=\"w-full h-40 object-cover rounded-lg cursor-pointer hover:opacity-75 transition-opacity\"\n                  loading=\"lazy\"\n                  onClick={() => openImageViewer(index)}\n                />\n              ))}\n            </div>\n          </>\n        )}\n\n        {places.length > 0 && (\n          <>\n            <hr className=\"my-10\" />\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n              Nearby Attractions in {finalDest}\n            </h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {places.map((place) => (\n                <div\n                  key={place.id}\n                  className=\"bg-gray-50 rounded-xl p-4 border border-gray-200\"\n                >\n                  <p className=\"font-bold text-blue-700\">{place.name}</p>\n                  <p className=\"text-sm text-gray-600\">{place.category}</p>\n                  <p className=\"text-xs mt-1 text-gray-400\">{place.address}</p>\n                </div>\n              ))}\n            </div>\n          </>\n        )}\n\n        <hr className=\"my-10\" />\n        <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">\n          Comments ({comments.length})\n        </h2>\n\n        {auth.isAuthenticated && (\n          <form onSubmit={handleCommentSubmit} className=\"mb-8\">\n            <textarea\n              rows={3}\n              placeholder=\"Add a public comment...\"\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              className=\"w-full p-4 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              type=\"submit\"\n              disabled={!newComment.trim()}\n              className=\"mt-3 bg-blue-600 text-white py-2 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-200\"\n            >\n              Comment\n            </button>\n          </form>\n        )}\n\n        <div className=\"space-y-6 max-h-96 overflow-y-auto scrollbar-thin scrollbar-webkit pr-2\">\n          {comments.map((comment) => (\n            <div\n              key={comment._id}\n              className=\"bg-gray-100 rounded-lg p-4 border border-gray-200\"\n            >\n              <p className=\"font-semibold text-gray-700\">\n                {comment.user?.username || \"User\"}\n              </p>\n              <p className=\"mt-1 text-gray-800 whitespace-pre-line\">\n                {comment.text}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {isViewerOpen && trip.images && (\n        <SimpleImageViewer\n          src={trip.images}\n          currentIndex={currentImage}\n          onClose={closeImageViewer}\n          backgroundStyle={{ backgroundColor: \"rgba(0,0,0,0.9)\" }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TripDetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}